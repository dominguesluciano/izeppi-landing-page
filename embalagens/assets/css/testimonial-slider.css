/* Testimonial Infinite Slider - High Performance & SEO Optimized */

.testimonial-slider {
    overflow: hidden;
    position: relative;
    width: 100%;
}

/* Desktop: Continuous sliding with fade mask */
@media (min-width: 769px) {
    .testimonial-slider {
        mask-image: linear-gradient(
            to right,
            transparent 0%,
            black 10%,
            black 90%,
            transparent 100%
        );
        -webkit-mask-image: linear-gradient(
            to right,
            transparent 0%,
            black 10%,
            black 90%,
            transparent 100%
        );
    }

    .testimonial-track {
        display: flex;
        animation: slideInfinite 30s linear infinite;
        will-change: transform;
        transform: translateZ(0); /* Hardware acceleration */
    }

    .testimonial-slide {
        flex: 0 0 auto;
        width: 400px;
        margin-right: 2rem;
        backface-visibility: hidden; /* Performance optimization */
    }

    @keyframes slideInfinite {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-50%);
        }
    }
}

/* Mobile: Full-width centered card display with step transitions */
@media (max-width: 768px) {
    .testimonial-slider {
        width: 100vw;
        margin-left: calc(-50vw + 50%); /* Break out of container */
        padding: 0;
        overflow: hidden;
    }

    .testimonial-track {
        display: flex;
        animation: slideStepMobile 16s infinite; /* 4 cards Ã— 4s each */
        will-change: transform;
        transform: translateZ(0);
    }

    .testimonial-slide {
        flex: 0 0 100vw; /* Each card takes exactly 100vw */
        width: 100vw;
        padding: 0 4vw; /* More generous padding for better visual spacing */
        margin: 0; /* No margins - precise alignment */
        backface-visibility: hidden;
        box-sizing: border-box;
    }

    /* Precise step-by-step animation - each step moves exactly 100vw */
    @keyframes slideStepMobile {
        0%, 23% {
            transform: translateX(0);
        }
        25%, 48% {
            transform: translateX(-100vw);
        }
        50%, 73% {
            transform: translateX(-200vw);
        }
        75%, 98% {
            transform: translateX(-300vw);
        }
        100% {
            transform: translateX(0);
        }
    }
}

/* Smaller mobile screens - same precise approach */
@media (max-width: 480px) {
    .testimonial-slide {
        padding: 0 6vw; /* Even more padding for smaller screens for better readability */
    }
}

/* Tablet responsive */
@media (min-width: 769px) and (max-width: 1024px) {
    .testimonial-slide {
        width: 350px;
        margin-right: 1.5rem;
    }
}

/* Pause on hover for better UX */
.testimonial-track:hover {
    animation-play-state: paused;
}

/* Performance optimizations */
.testimonial-slider * {
    transform: translateZ(0);
}

/* Accessibility - respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
    .testimonial-track {
        animation: none;
    }

    .testimonial-slider {
        overflow-x: auto;
        scroll-behavior: smooth;
    }
}

/* SEO optimization - ensure content remains accessible */
.testimonial-slide {
    scroll-snap-align: start;
}

.testimonial-slider {
    scroll-snap-type: x mandatory;
}